<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin | PDUSU EDUCATION</title>
  <style>
    body {font-family: Arial; background:#f9fafb; margin:0; padding:40px;}
    .box {max-width:500px; margin:auto; background:white; padding:20px; border-radius:10px; box-shadow:0 2px 5px rgba(0,0,0,0.1);}
    input, button {width:100%; padding:10px; margin-top:10px; font-size:16px;}
    button {background:#2563eb; color:white; border:none; border-radius:5px; cursor:pointer;}
    button:hover {background:#1d4ed8;}
  </style>
</head>
<body>
  <div class="box" id="loginBox">
    <h2>Admin Login</h2>
    <input type="password" id="password" placeholder="Enter Admin Password">
    <button onclick="checkPassword()">Login</button>
  </div>

  <div class="box" id="adminBox" style="display:none;">
    <h2>Add New Class</h2>
    <input id="title" placeholder="Class Title">
    <input id="youtube" placeholder="YouTube Link">
    <input type="file" id="pdfFile" accept=".pdf">
    <button onclick="uploadAndAddClass()">Add Class</button>
    <p id="msg"></p>
  </div>

  <script>
    const ADMIN_PASS = "pdusu123"; // ðŸ”’ Change this to your secret password

    function checkPassword() {
      const pass = document.getElementById("password").value;
      if (pass === ADMIN_PASS) {
        document.getElementById("loginBox").style.display = "none";
        document.getElementById("adminBox").style.display = "block";
      } else {
        alert("âŒ Wrong password");
      }
    }

    async function uploadAndAddClass() {
      const title = document.getElementById("title").value.trim();
      const youtube = document.getElementById("youtube").value.trim();
      const pdfFile = document.getElementById("pdfFile").files[0];
      const msg = document.getElementById("msg");

      if (!title || !youtube || !pdfFile) {
        alert("Please fill all fields and select a PDF file!");
        return;
      }

      // Save PDF to local 'notes/' folder
      const pdfFileName = `notes/${pdfFile.name}`;
      const reader = new FileReader();

      reader.onload = async function(e) {
        const pdfDataUrl = e.target.result;

        // Try to fetch data.json
        let data;
        try {
          data = await fetch("data.json").then(res => res.json());
        } catch {
          data = { classes: [] };
        }

        data.classes.unshift({
          title: title,
          youtube: youtube,
          pdf: pdfFileName
        });

        // Prepare data.json
        const blobData = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
        const dataUrl = URL.createObjectURL(blobData);
        const a = document.createElement('a');
        a.href = dataUrl;
        a.download = "data.json";
        a.click();

        // Also download the PDF to be placed in 'notes' folder
        const pdfLink = document.createElement('a');
        pdfLink.href = pdfDataUrl;
        pdfLink.download = pdfFile.name;
        pdfLink.click();

        msg.innerHTML = "âœ… Class added! Two files downloaded:<br>â€¢ data.json<br>â€¢ " + pdfFile.name + "<br><br>Replace both in your folder and push to
